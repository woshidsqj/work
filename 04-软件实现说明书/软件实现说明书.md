# **学习生活平台**

## **[软件实现说明书]**

| **成员** | **朱天亦** |
| -------- | ---------- |
| 成员     | 郑凯       |
| 成员     | 魏浩哲     |
| 成员     | 吴志文     |
| 成员     | 卢茂良     |

## 目录

[**1.** **引言**](#引言)

[**1.1. 编写目的**](#_Toc136955246)

[**1.2. 术语定义**](#术语定义)

[**1.3. 参考资料**](#_Toc136955248)

[**1.4. 相关文档**](#_Toc136955249)

[**2.** **总体设计**](#总体设计)

[**2.1. 硬件运行环境**](#_Toc136955251)

[**2.2. 软件运行环境**](#_Toc136955252)

[**2.3. 子系统清单**](#_Toc136955253)

[**2.4. 功能模块清单**](#_Toc136955254)

[**3.** **数据库设计**](#_Toc136955255)

[**3.1. 数据库中表名列表**](#_Toc136955256)

[**3.2. 数据库表之间的关系**](#数据库表之间的关系)

[**3.3. 数据库各表具体字段**](#_Toc136955258)

[**4.** **典型功能子系统设计**](#_Toc136955259)

[**4.1. 个人信息管理系统设计**](#_Toc136955260)

[**4.1.1. 类图设计**](#_Toc136955261)

[**4.1.2. 活动图设计**](#_Toc136955262)

[**4.1.3. 顺序图设计**](#_Toc136955263)

[**4.2. 帖子和评论管理系统设计**](#_Toc136955264)

[**4.2.1. 类图设计**](#_Toc136955265)

[**4.2.2. 活动图设计**](#_Toc136955266)

[**4.2.3. 顺序图设计**](#_Toc136955267)

[**4.3. 资源管理系统设计**](#_Toc136955268)

[**4.3.1. 类图设计**](#_Toc136955269)

[**4.3.2. 活动图设计**](#_Toc136955270)

[**4.3.3. 顺序图设计**](#_Toc136955271)

[**4.4. 管理员管理帖子系统设计**](#_Toc136955272)

[**4.4.1. 类图设计**](#_Toc136955273)

[**4.4.2. 活动图设计**](#_Toc136955274)

[**4.4.3. 顺序图设计**](#_Toc136955275)

[**4.5. 管理员管理资源系统设计**](#_Toc136955276)

[**4.5.1. 类图设计**](#_Toc136955277)

[**4.5.2. 活动图设计**](#_Toc136955278)

[**4.5.3. 顺序图设计**](#_Toc136955279)

[**4.6. 管理员管理用户信息系统设计**](#_Toc136955280)

[**4.6.1. 类图设计**](#_Toc136955281)

[**4.6.2. 活动图设计**](#_Toc136955282)

[**4.6.3. 顺序图设计**](#_Toc136955283)

[**5.** **功能模块设计**](#_Toc136955284)

[**5.1. 登录：login/注册：register**](#登录login注册register)

[**5.2. 主页面 ：index**](#主页面-index)

[**5.3. 访客端**](#访客端)

[**5.4. 个人中心页面**](#个人中心页面)

[**5.5. 用户页面**](#用户页面)

[**5.6. 后台管理页面 ：admin**](#后台管理页面-admin)

[**6.** **接口设计**](#接口设计)

[**6.1. 用户接口**](#用户接口)

[**6.2. 外部接口**](#外部接口)

[**6.3. 内部接口**](#内部接口)

[**7.** **角色授权设计**](#角色授权设计)

[**8.** **软件实现**](#软件实现)

[**8.1. 前后端技术介绍**](#前后端技术介绍)

[**8.1.1. 前端部分**](#前端部分)

[**8.1.2. 后端部分**](#后端部分)

[**8.2. 软件实现思路**](#软件实现思路)

[**8.3. 设计模型到前后端代码映射方法**](#设计模型到前后端代码映射方法)

[**9.** **系统错误处理**](#系统错误处理)

[**9.1. 出错信息管理**](#_Toc136955303)

[**9.2. 故障预防与补救**](#_Toc136955304)

[**9.3. 系统维护设计**](#_Toc136955305)

[**9.3.1. 编码规范化**](#_Toc136955306)

[**9.3.2. 编码模块化**](#_Toc136955307)

[**9.3.3. 始终收集反馈**](#_Toc136955308)

[10. **项目测试计划**](#_Toc136955309)

# **引言**

## **编写目的**

​	在完成了学习生活平台需求分析的基础上，我们依据《需求规格说明书》对我们的项目进行了整体上的设计，同样也是为了将我们项目的设计变得文档化才编写了这一软件设计说明书。

## **术语定义**

​	本系统：“学习生活平台”项目本身，包括文档和源代码。

## **参考资料**

[1] 吕云翔.软件工程实用教程[M].北京：清华大学出版社，2015.

## **相关文档**

[1] 《需求规格说明书》

[2] 《软件开发计划书》

[3] 《部署文档》

[4] 《测试报告》

[5] 《用户使用说明书》

# **总体设计**

## **硬件运行环境**

处理器：Intel® Core™ i5-8300H CPU @2.30GHz

内存：16GB

硬盘容量：1TB

输入输出设备：鼠标、键盘、显示屏

网络设备：宽带

## **软件运行环境**

操作系统：Windows 11

连接的后端数据库：MySQL 8.0.13

项目运行环境：Python 3.10

浏览器：Microsoft Edge

## **子系统清单**

​	本项目的子系统设置见子系统清单列表。

| **编号** | **名称**               | **子系统功能描述**                                                                                         |
|----------|------------------------|------------------------------------------------------------------------------------------------------------|
| 1        | 个人信息管理系统       | 会员登录系统时，对其身份进行检验和识别。 游客可以进行注册。 已注册用户可以修改个人信息、修改密码、注销等。 |
| 2        | 帖子和评论管理系统     | 帖子的发布，编辑与删除。 评论的发布，编辑与删除。                                                          |
| 3        | 资源管理系统           | 浏览资源。 上传资源。 下载资源。 删除资源。                                                                |
| 4        | 管理员管理帖子系统     | 查看帖子。 删除帖子。 查看帖子评论。 删除帖子评论。                                                        |
| 5        | 管理员管理资源系统     | 管理员添加资源信息。 管理员编辑资源信息。 管理员删除资源信息。                                             |
| 6        | 管理员管理用户信息系统 | 管理员登录用户账号。 管理员查看用户信息。 管理员注销用户账号。                                             |

## **功能模块清单**

| 访客端   |                |                                                                                |
|----------|----------------|--------------------------------------------------------------------------------|
| 101      | 注册账号       | 用户从游客注册为会员                                                           |
| 102      | 浏览教育资源   | 访客可以在系统中查看各种教育资源的列表，并查看其基本信息，如名称、作者、描述等 |
| 用户端   |                |                                                                                |
| 201      | 用户登录       | 已注册的用户通过输入用户名和密码登录系统                                       |
| 202      | 找回密码       | 用户通过绑定的邮箱找回自己的密码                                               |
| 203      | 查看个人信息   | 用户可以查看自己的个人信息，如昵称、邮箱等                                     |
| 204      | 修改个人信息   | 用户可以修改自己的个人信息，如昵称、邮箱等                                     |
| 205      | 注销登录       | 用户可以注销当前的登录状态                                                     |
| 206      | 删除账户       | 用户可以删除自己的账户                                                         |
| 207      | 浏览资源       | 用户可以浏览和下载各种教育资源                                                 |
| 208      | 发布资源       | 用户可以上传自己的教育资源                                                     |
| 209      | 删除资源       | 用户可以删除自己上传的教育资源                                                 |
| 210      | 发表帖子       | 用户可以在讨论区发表帖子                                                       |
| 211      | 查看帖子       | 用户可以查看其他用户发表的帖子                                                 |
| 212      | 评论帖子       | 用户可以对其他用户的帖子进行评论                                               |
| 213      | 点赞帖子       | 用户可以对其他用户的帖子或评论进行点赞                                         |
| 214      | 删除帖子       | 用户可以删除自己发布的帖子                                                     |
| 215      | 积分升级       | 用户通过活跃行为（如登录、发帖、评论等）积累经验，达到一定经验值后升级         |
| 管理员端 |                |                                                                                |
| 301      | 用户管理       | 管理员可以管理用户信息，如添加、删除、修改用户信息等                           |
| 302      | 教育资源管理   | 管理员可以管理教育资源的信息，如添加、删除、修改教育资源信息等                 |
| 303      | 论坛管理       | 管理员可以管理帖子的信息，删除违规的帖子或评论                                 |
| 304      | 数据统计和分析 | 管理员可以查看和分析系统中的用户和资源数据，如用户活跃度、资源下载量等         |

# **数据库设计**

## **数据库中表名列表**

​	数据库中表名列表格式如表所示。

| **编号** | **表名**          | **表功能说明**               |
|----------|-------------------|------------------------------|
| 1        | User              | 存储用户的基本信息和账户状态 |
| 2        | Resource          | 存储用户上传的资源相关信息   |
| 3        | Post              | 存储用户发布的帖子信息       |
| 4        | Comment           | 存储用户在帖子下发表的评论   |
| 5        | ExceptionUser     | 记录违规的用户行为           |
| 6        | ExceptionResource | 记录有问题的资源             |
| 7        | ExceptionPost     | 记录有问题的帖子             |
| 8        | FlavorPost        | 记录用户对帖子的偏好         |
| 9        | FlavorResource    | 记录用户对资源的偏好         |

## **数据库表之间的关系**

​	数据库表之间的关系如图所示。

![1](media/c623def709a9ef1090134dee2f5d42ef.png)

## **数据库各表具体字段**

​	User 数据表:

| **序号** | **字段名**    | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|---------------|----------------|--------------------|------------------|---------------|
| 1        | id            | -              | INT                | 是               | 无            |
| 2        | username      | 用户名         | VARCHAR(255)       | 否               | 主键          |
| 3        | password      | 密码           | VARCHAR(255)       | 否               | 无            |
| 4        | email         | 邮箱           | VARCHAR(254)       | 是               | 无            |
| 5        | nickname      | 昵称           | VARCHAR(255)       | 是               | 无            |
| 6        | role          | 角色           | VARCHAR(20)        | 否               | 无            |
| 7        | experience    | 经验值         | INT                | 否               | 无            |
| 8        | level         | 等级           | INT                | 否               | 无            |
| 9        | register_time | 注册时间       | DATETIME           | 否               | 无            |
| 10       | avatar        | 头像           | BLOB               | 是               | 无            |
| 11       | signature     | 个性签名       | VARCHAR(255)       | 是               | 无            |
| 12       | telephone     | 手机号         | VARCHAR(11)        | 是               | 无            |
| 13       | last_login    | 最后登录时间   | DATETIME           | 否               | 无            |
| 14       | is_waring     | 是否被警告     | TINYINT(1)         | 否               | 无            |

​	Resource 数据表:

| **序号** | **字段名**     | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|----------------|----------------|--------------------|------------------|---------------|
| 1        | id             | -              | INT                | 否               | 主键          |
| 2        | name           | 资源名称       | VARCHAR(255)       | 否               | 无            |
| 3        | author         | 作者           | VARCHAR(255)       | 否               | 无            |
| 4        | description    | 资源描述       | TEXT               | 否               | 无            |
| 5        | filetype       | 资源文件分类   | VARCHAR(255)       | 否               | 无            |
| 6        | subject        | 资源学科       | VARCHAR(255)       | 否               | 无            |
| 7        | file           | 文件           | BLOB               | 否               | 无            |
| 8        | file_url       | 文件链接       | VARCHAR(2083)      | 否               | 无            |
| 9        | download_count | 下载次数       | INT                | 否               | 无            |
| 10       | report_count   | 举报次数       | INT                | 否               | 无            |
| 11       | user           | -              | INT                | 是               | 外键          |
| 12       | upload_time    | 上传时间       | DATETIME           | 否               | 无            |

​	Post 数据表:

| **序号** | **字段名**    | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|---------------|----------------|--------------------|------------------|---------------|
| 1        | id            | -              | INT                | 否               | 主键          |
| 2        | title         | 帖子标题       | VARCHAR(255)       | 否               | 无            |
| 3        | content       | 帖子内容       | TEXT               | 否               | 无            |
| 4        | user          | -              | VARCHAR(255)       | 是               | 外键          |
| 5        | update_time   | 更新时间       | DATETIME           | 否               | 无            |
| 6        | like_count    | 点赞次数       | INT                | 否               | 无            |
| 7        | report_count  | 举报次数       | INT                | 否               | 无            |
| 8        | comment_count | 评论次数       | INT                | 否               | 无            |
| 9        | require_level | 要求等级       | INT                | 否               | 无            |

​	Comment 数据表:

| **序号** | **字段名**   | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|--------------|----------------|--------------------|------------------|---------------|
| 1        | id           | -              | INT                | 否               | 主键          |
| 2        | content      | 评论内容       | TEXT               | 否               | 无            |
| 3        | like_count   | 点赞次数       | INT                | 否               | 无            |
| 4        | report_count | 举报次数       | INT                | 否               | 无            |
| 5        | user         | -              | VARCHAR(255)       | 是               | 外键          |
| 6        | post         | -              | INT                | 是               | 外键          |
| 7        | comment_time | 评论时间       | DATETIME           | 否               | 无            |

​	ExceptionUser 数据表:

| **序号** | **字段名**       | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|------------------|----------------|--------------------|------------------|---------------|
| 1        | id               | -              | INT                | 否               | 主键          |
| 2        | user             | -              | VARCHAR(255)       | 是               | 外键          |
| 3        | exception_action | 异常操作       | TEXT               | 否               | 无            |
| 4        | timestamp        | 时间戳         | DATETIME           | 否               | 无            |

​	ExceptionResource 数据表:

| **序号** | **字段名**       | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|------------------|----------------|--------------------|------------------|---------------|
| 1        | id               | -              | INT                | 否               | 主键          |
| 2        | author           | -              | VARCHAR(255)       | 是               | 外键          |
| 3        | resource_id      | -              | INT                | 否               | 外键          |
| 4        | exception_reason | 异常原因       | TEXT               | 否               | 无            |

​	ExceptionPost 数据表:

| **序号** | **字段名**       | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|------------------|----------------|--------------------|------------------|---------------|
| 1        | id               | -              | INT                | 否               | 主键          |
| 2        | author           | -              | VARCHAR(255)       | 是               | 外键          |
| 3        | post_id          | -              | INT                | 否               | 外键          |
| 4        | exception_reason | 异常原因       | TEXT               | 否               | 无            |

​	FlavorPost 数据表:

| **序号** | **字段名**   | **中文字段名** | **数据类型**  | **是否允许为空** | **主键/外键** |
|----------|--------------|----------------|---------------|------------------|---------------|
| 1        | id           | -              | INT           | 否               | 主键          |
| 2        | user         | -              | VARCHAR(255)  | 是               | 外键          |
| 3        | flavor_title | 倾向标题       | TEXT          | 否               | 无            |
| 4        | post_id      | -              | INT           | 否               | 外键          |
| 5        | timestamp    | 时间戳         | DateTimeField | 否               | 无            |

​	FlavorResource 数据表:

| **序号** | **字段名**   | **中文字段名** | **MySQL 数据类型** | **是否允许为空** | **主键/外键** |
|----------|--------------|----------------|--------------------|------------------|---------------|
| 1        | id           | -              | INT                | 否               | 主键          |
| 2        | user         | -              | VARCHAR(255)       | 是               | 外键          |
| 3        | flavor_title | 倾向标题       | TEXT               | 否               | 无            |
| 4        | resource_id  | -              | INT                | 否               | 外键          |
| 5        | timestamp    | 时间戳         | DATETIME           | 否               | 无            |

# **典型功能子系统设计**

## **个人信息管理系统设计**

​	这里给出了个人信息管理系统的类图以及该系统中最典型的操作——注册和登录的活动图和顺序图。

### **类图设计**

​	个人信息管理系统的类图如图所示。

![673db788ad0c3a62bb2353daa302916](media/7e8049135dc2f4cf34f48f22112b3497.png)

### **活动图设计**

​	注册和登录的活动图分别如下：

![1d0441e18081b47672c4653dd79aa8e](media/29991e807f98c0b596777f4dacae189c.png)![](media/a73c8710f780e41ccdc21a15fafc2bc2.png)

### **顺序图设计**

​	注册的顺序图设计如图所示，登录的顺序图设计如图所示。

![](media/4e8a2944dbfbccb2e592a1c344f20564.png)![](media/3615a64f08bff5c65998499a9be87dd4.png)

## **帖子和评论管理系统设计**

### **类图设计**

​	帖子和评论管理系统的类图如图所示。

![](media/fa4a0b9977bf7efd6c18a7a4b3913885.png)

### **活动图设计**

​	帖子和评论管理系统活动图如下：

![](media/a7a254d1c110f3abcc82ccc85b46e71f.png)

### **顺序图设计**

​	顺序图设计如图所示。

![](media/5f3f1cd75c8e2c0c648b216a03c070c8.png)

## **资源管理系统设计**

### **类图设计**

​	资源管理系统的类图如图所示。

![](media/2e0cdec9a748133cdb855d20f82c7692.png)

### **活动图设计**

​	资源管理系统活动图如下。

![](media/c82d0768d01b21cebc13473985172ee4.png)

### **顺序图设计**

​	资源管理系统顺序图设计如图所示。

![](media/351fd638fad80b57991342ca049c4beb.png)

## **管理员管理帖子系统设计**

### **类图设计**

​	管理员管理帖子系统的类图如图所示。

![](media/e9883163950cf8f5406d2beb995370d2.png)

### **活动图设计**

​	管理员管理帖子系统活动图如下：

![](media/49a77363c577894b2a8b2d7d06a01c1b.png)

### **顺序图设计**

​	管理员管理帖子系统顺序图设计如图所示。

![](media/848b03cb14351d07e5cacf1d1b145622.png)

## **管理员管理资源系统设计**

### **类图设计**

​	类图如图所示。

![](media/bacb5cd254ce19432b1ff40c29b09e72.png)

### **活动图设计**

​	活动图如下：

![](media/e653213e8195489161f5d658d59af938.png)

### **顺序图设计**

​	顺序图设计如图所示。

![](media/b5c24dc11792abf195b3f9be352a7959.png)

## **管理员管理用户信息系统设计**

### **类图设计**

​	管理员管理用户信息系统类图如图所示。

![](media/a070cb362df24d86307110b3abdba1b0.png)

### **活动图设计**

​	管理员管理用户信息系统活动图如下：

![](media/bb5569daedfb39a6872ba862682060a3.png)

### **顺序图设计**

​	管理员管理用户信息系统顺序图设计如图所示。

![](media/64c3de14c6407770650694044ee69d7b.png)

# **功能模块设计**

​	本系统的六个功能模块，在本章中由六大主要界面来实现，这六个部分的详细内容设计在下方一一说明。

## **登录：login/注册：register**

**包含功能模块：**

​	个人信息管理模块。

**页面参数：**

1.  用户邮箱，它是存储用户信息的主键，用于获取用户的基本信息。该用户信息用于验证登录时消息的合法性。

**调用背景：**

​	当访客想要获取本站帐号，从访客端点击“登录”按钮可以跳转到该页面。

当访客需要访问个人主页、论坛等专属于登录用户的功能的时候，系统会自动跳转至该页面。

**页面组成：**

1.  网站logo图标。
2.  注册登录信息收集表单。

**页面制作示意图：**

​	登录/注册的页面制作示意图如图所示。

**![D:\\WPS Office\\244411442的云文档\\IMG_3537.jpg](media/6bd45f752abc26979f4691a4ec9d903b.jpeg)**

**页面使用简介：**

​	当访客点击页面上任何一个需登录才能使用的按钮时，会跳转到该页面，提醒访客进行注册或者登录。或在未登录状态直接点击主页中的头部导航条登录按钮跳转到该页面。

​	访客若想执行登录操作，直接在相应的输入框中输入正确的帐号和密码，点击“登录”即可登录成功。

​	若访客想执行注册操作，点击“注册新账号”可跳转到注册页面，输入昵称/账号、邮箱帐号、密码，点击“注册”按钮，验证通过后即注册成功。

## **主页面 ：index**

**包含功能模块：**

​	学习资源浏览模块，个人信息管理模块。

**页面参数：**

1.  学习资料序号，它是存储学习资料的主键。凭借这一个序号，系统可以向服务器请求到相关资源内容。该资料信息用于在主页面向用户或游客推荐展示学习资料。
2.  用户邮箱，是存储用户信息的主键。凭用户邮箱，页面能向服务器请求到用户相关信息，并加载到页面上。该参数只在用户登录之后产生，使得用户在点击个人中心等标签时显示正确的信息。

**调用背景：**

​	当用户进入网站时，首先就会进入主页（不论是访客还是用户）。

**页面组成：**

1.  上方导航栏：包含有提示用户登录信息、个人中心、论坛等。
2.  导航下方：网站图标、搜索框，右侧显示网站介绍，左侧显示资源数、推荐资源与在线用户人数。
3.  主内容区：向下滑切换进入访客端。
4.  两侧：其他内容。

**页面制作示意图：**

​	主页面的页面制作示意图如图所示。

**![](media/26d5a978a87845dd5c00c4ef15aee596.png)**

**页面使用简介：**

​	当用户进入页面的时候，系统会给用户加载各类的信息。用户可以通过该页面导航至其他页面。

​	用户在搜索框内输入学习资源相关信息，可以进行检索。

​	用户点击导航栏“登录”(login)、“个人中心”(home)、“论坛”(community)、“资源”(resources)等功能按钮，可以前往相应页面。

​	用户在下方可以看到最新资料与访客端，在中间看到网站介绍与资源信息。

## **访客端**

**包含功能模块：**

​	学习资源浏览模块。

**页面参数：**

1.  学习资料序号，它是存储学习资料的主键，是访客执行搜索操作或进入某分类后服务器返回的搜索结果，可以根据该参数显示相关学习资源的详细内容。
2.  用户邮箱，它是存储用户信息的主键。凭借这一个主键，页面能向服务器请求到用户相关信息。该参数只在用户登录之后产生，能使得用户在点击个人中心等标签时显示正确的信息，在后台保留用户的操作记录。

**调用背景：**

​	当用户在主界面向下方滑动的时候，自动进入访客端。

**页面组成：**

1.  左侧导航栏：包含有List（展示学习资源）、News（展示通知）、Charts（显示图标）、Connect（留言）。访客可以通过导航信息访问各个页面。
2.  搜索框：用户可以通过搜索框搜索继续搜素学习资料。
3.  主内容区：包含有搜索到的列表。

**页面制作示意图：**

​	访客页面制作示意图如图所示。

**![](media/a56d0c8ce6a28365c671fde7207d8dd4.png)**

**页面使用简介：**

​	用户在主页面向下滑动之后，会进入到此页面，显示如上内容。

​	用户在用户端可以管理个人信息并退出登录回到访客端。

## **个人中心页面**

**包含功能模块：**

​	个人信息管理模块

**页面参数：**

1.  用户邮箱，它是存储用户信息的主键。凭借这一个主键，页面能向服务器请求到用户相关信息，并加载到页面上。

**调用背景：**

​	在登录后点击上方导航栏“个人中心”，即可进入相应的“个人主页”页面。

**页面组成：**

1.  左侧导航栏：包含有提示用户登录信息、修改信息、注销登录、删除用户。用户可以通过导航信息访问各个页面。
2.  展示区：在右侧展示个人信息。

**页面制作示意图：**

​	个人中心的页面制作示意图如图所示。

![](media/fd8d357b2d6cc314d9e46d1d05abb58b.png)

**页面使用简介：**

​	在该页面可以查看或修改用户的基本信息、删除用户或者注销登录，返回访客端。

## **用户页面**

**包含功能模块：**

​	学习资源浏览模块，论坛与积分系统模块

**页面参数：**

1.  用户邮箱，它是存储用户信息的主键。凭借这个主键，页面能向服务器请求到用户相关信息。该参数只在用户登录后产生，在该页面中主要应用于图书的评论以及会员进行购买时信息的录入。
2.  学习资料序号，它是存储学习资料的主键。凭借这一个序号，系统可以向服务器请求到相关资源内容。该资料信息用于在主页面向用户或游客推荐展示学习资料。

**调用背景：**

​	在访客页面登录之后，自动进入用户页面。

**页面组成：**

1.  左侧导航栏：包含有List（展示学习资源）、News（展示通知）、Charts（显示图标）、Connect（留言）。访客可以通过导航信息访问各个页面。
2.  搜索框：用户可以通过搜索框搜索继续搜素学习资料。
3.  讨论区与积分系统：用户可以与其他用户交流，登录、评论等操作也可以赚取积分。
4.  主内容区：包含有搜索到的列表。

**页面制作示意图：**

​	用户页面制作示意图如图所示。

![](media/113bcdd35eaea6669558465050bb1dc9.png)

**页面使用简介：**

​	在访客端登录之后进入用户端，用户端额外包含资源区，讨论区和积分系统。注册用户在资源区可以浏览和下载各种教育资源，在讨论区可以进行发帖等 操作；积分系统则可以对用户进行积分管理，用户每次登录、发帖、评论等都会获取积分。

## **后台管理页面 ：admin**

**包含功能模块：**

​	全部模块。

**页面参数：**

1.  学习资料序号，它是存储学习资料的主键，是访客执行搜索操作或进入某分类后服务器返回的搜索结果，可以根据该参数显示相关学习资源的详细内容。
2.  用户邮箱，它是存储用户信息的主键。凭借这一个主键，页面能向服务器请求到用户相关信息。该参数只在用户登录之后产生，能使得用户在点击个人中心等标签时显示正确的信息，在后台保留用户的操作记录。

**调用背景：**

​	当管理员登录管理员账户，即可跳转到该后台管理页面。

**页面组成：**

1.  上方导航栏：包含有网站图标和页面标题。
2.  搜索框：管理员通过该搜索框查找对应学习资源的信息，并对信息进行管理。
3.  左侧主内容区：管理员可以在这里进行用户管理，教育资源管理，论坛管理，统计和分析数据等操作。

**页面制作示意图：**

​	后台管理页面的示意图如图所示。

![](media/9519193b1b01a7d531be84063358b366.png)

**页面使用简介：**

​	当管理员登录管理员账户，即可跳转到该资源的详情页面。管理员可以进入管理员端，进行用户管理，教育资源管理，论坛管理，统计和分析数据等操作。

# **接口设计**

## **用户接口**

​	我们在开发阶段计划选择Vue CLI 4.5.13框架作为前端开发工具，是因为Vue.js是一种轻量级的JavaScript框架，具有简单易用、灵活性高、可扩展性强等优点，能够有效地提高开发效率和代码质量。同时，Vue CLI作为Vue.js的官方命令行工具，提供了快速搭建项目、自动化构建、热更新等功能，使得前端开发更加高效和便捷。

​	为了让用户界面更加美观、易用，我们还准备采用Element UI等组件库，这些组件库提供了大量的UI组件和样式，可以帮助我们快速构建出符合设计要求的页面。我们在页面设计和绘制时，注重用户体验，力求让用户在使用过程中获得良好的感受和反馈。我们通过精心的页面设计和绘制，使得用户界面简约、美观、易用，提升了用户的满意度和使用体验。

## **外部接口**

​	本网站的数据存储和处理是非常关键的环节，考虑到与搜索和推荐的开源框架的兼容性以及前后端交互的便利性，选择了Django3.0框架作为后端开发工具。Django是一个基于Python的Web框架，具有高度的可扩展性、灵活性和安全性，能够有效地支持大规模的数据处理和存储。同时，Django提供了完善的ORM（对象关系映射）机制，可以方便地操作数据库，提高了开发效率。

​	为了与外部数据接口进行交互，我们选择了MySQL 8.0.13作为数据库管理系统。MySQL是一个开源的关系型数据库管理系统，具有高效、稳定、安全等特点，被广泛应用于各种Web应用程序中。通过Django提供的ORM机制，将数据存储在MySQL数据库中，并通过外部数据接口实现数据的读取和处理。

## **内部接口**

​	为实现B/S架构的前后端框架内部交互，我们采用了Ajax技术来设计异步的动态交互接口，并合理沟通筑构了接口规范。通过这样的内部接口，我们能够实现高效的、松耦合的、高可扩展性的接口交互。

​	Ajax技术是一种异步的JavaScript和XML技术，可以在不刷新整个页面的情况下，通过与服务器进行交互，实现局部刷新和动态更新。我们通过Ajax技术，设计了前后端之间的异步交互接口，使得数据的传输更加高效和快速。同时，我们合理沟通筑构了接口规范，确保接口的可靠性和一致性，使得前后端开发人员能够更加方便地进行接口的调用和维护。

​	通过这样的内部接口，能够实现高效的、松耦合的、高可扩展性的接口交互，使得前后端开发人员能够更加方便地进行开发和维护。这样的设计不仅提高了网站的性能和用户体验，也为网站的后续扩展和升级提供了良好的基础。

# **角色授权设计**

​	本项目的使用角色有三类：访客、用户、管理员。他们的角色授权如表所示。

| **子系统名称**   | **访客** | **用户** | **管理员** |
|------------------|----------|----------|------------|
| 个人信息管理系统 | ○        | ●        | ●          |
| 学习资源浏览系统 | ●        | ●        | ●          |
| 论坛系统         | ○        | ○        | ●          |
| 积分浏览系统     |          | ●        | ●          |
| 学习资源管理系统 |          |          | ●          |
| 积分管理系统     |          |          | ●          |

●表示有全部权限，○表示享有部分权限，空则表示无权限。

​	管理员可以从用户登录界面进行登录，也可以从管理员登录界面进行登录，所以管理员拥有该系统的所有权限。个人管理系统中，访客仅有注册登录的权限；积分浏览系统中，游客不能查询积分相关操作；论坛系统中，游客不能进行相关操作，用户只能发贴讨论；学习资源管理系统中，学习信息的增加，删除，编辑都只能由管理员来实现；积分管理系统中，访客和用户均无权限。

# **软件实现**

## **前后端技术介绍**

### **前端部分**

​	具体软件实现过程中，在前端技术栈的选择上，我们选择了Vue.js和Element Plus。Vue.js是一款轻量级的JavaScript框架，用于构建用户界面。Vue.js采用了MVVM（Model-View-ViewModel）的架构模式，将视图和数据进行了分离，使开发更加高效和灵活。Vue.js具有以下特点：

<center>响应式的数据绑定+组件化的开发方式+轻量级，体积小

​	对新手而言，Vue十分容易上手，于是我们选择了Vue.js作为前端框架。

​	在UI的具体选用过程中，我们发现基于Element的Element Plus是Element UI的升级版，它提供了一套丰富的UI组件，以及灵活的主题定制功能。Element Plus具有丰富的UI组件、灵活的主题定制、具有良好的文档和社区支持，甚至兼容Vue.js 3.0。由于Element Plus具有良好的可定制性和兼容性，我们选择了Element Plus作为UI组件库。

​	在前端技术栈的选择上，我们还考虑了其他可选技术，并进行了优缺点对比。

​	React是Facebook开发的一款JavaScript库，是一个构建用户界面的库。React具有以下特点：组件化的开发方式+高效的虚拟DOM技术+良好的生态系统和社区支。但是React的学习曲线相对较陡峭，对于我们而言较为困难。

​	Angular是由Google开发的一款前端框架，用于构建单页应用程序。Angular具有以下特点：丰富的UI组件和指令+强大的依赖注入和管道功能+高度可测试性。但Angular的复杂性较高，需要花费更多的时间和精力来学习。

​	综上，我们选择了Vue.js和Element Plus作为前端技术栈，因为它们具有良好的可用性、易学性和灵活性，同时也可以保证不错的效果。

### **后端部分**

​	我们的软件的后端具体实现严格按照接口说明当中的技术进行。

​	由于“学习生活平台”是一个数据密集型的应用程序，因此数据存储和处理非常关键。为了确保与搜索和推荐的开源框架的兼容性以及前后端交互的便利性，我们仍旧选择了Django 3.0作为后端开发工具。Django是一个基于Python的Web框架，具有高度的可扩展性、灵活性和安全性。它能够有效地支持大规模的数据处理和存储，并提供了完善的ORM机制，方便地操作数据库，提高了开发效率。

​	为了与外部数据接口进行交互，我们继续选择了MySQL 8.0.13作为数据库管理系统。MySQL是一个开源的关系型数据库管理系统，具有高效、稳定、安全等特点，被广泛应用于各种Web应用程序中。通过Django提供的ORM机制，我们将数据存储在MySQL数据库中，并通过外部数据接口实现数据的读取和处理。

​	在实现B/S架构的前后端框架内部交互方面，我们采用了Ajax技术来设计异步的动态交互接口，并合理沟通筑构了接口规范。Ajax技术是一种异步的JavaScript和XML技术，可以在不刷新整个页面的情况下，通过与服务器进行交互，实现局部刷新和动态更新。我们通过Ajax技术，设计了前后端之间的异步交互接口，使得数据的传输更加高效和快速。同时，我们合理沟通筑构了接口规范(局部举例如下图)，确保接口的可靠性和一致性，使得前后端开发人员能够更加方便地进行接口的调用和维护。

![](media/a074119bab8b794e7902a7c3cf6e9e96.png)

​	通过这样的内部接口，能够实现高效的、松耦合的、高可扩展性的接口交互，使得前后端开发人员能够更加方便地进行开发和维护。这样的设计不仅提高了网站的性能和用户体验，也为网站的后续扩展和升级提供了良好的基础。我们的设计方案已经成功实现，为用户提供了高效稳定的服务。

​	除此之外，我们的后端还采用了多项技术来实现不同的功能，以下是详细介绍：

###### 1\. 分布式路由实现整体框架

​	分布式路由是一种将多个服务器组成一个整体进行负载均衡和请求转发的技术。在我们的后端应用中，我们采用了分布式路由技术来实现整体框架，将多个服务器组成一个整体，通过分发请求来实现负载均衡和高可用性。这样可以提高系统的稳定性和性能，同时也可以更好地应对高并发和大流量的情况。

###### 2\. Redis实现验证码存储

​	Redis是一种高性能的内存数据库，我们在后端应用中采用Redis来实现验证码的存储。通过将验证码存储在Redis中，可以有效地减轻数据库的负载，提高系统的性能和稳定性。同时，Redis还提供了丰富的数据结构和操作命令，可以方便地实现各种数据存储和操作。

###### 3\. 机器学习实现智能推荐

​	机器学习是一种人工智能技术，可以通过对大量数据的分析和学习来实现智能推荐。在我们的后端采用了机器学习技术来实现智能推荐功能，通过对用户的历史行为和偏好进行分析和学习，来推荐符合用户兴趣的内容。这样可以提高用户的满意度和粘性，同时也可以提高系统的活跃度和收益。

###### 4\. 信号量实现登录和退出对在线人数的修改

​	信号量是一种用于多线程并发控制的技术，可以通过对资源的锁定和释放来实现并发控制和同步。在我们的后端应用中，我们采用了信号量技术来实现登录和退出对在线人数的修改，通过对在线人数的信号量进行加减来实现并发控制和同步。这样可以保证系统的稳定性和安全性，同时也可以提高系统的性能和响应速度。

###### 5\. 登录返回Token实现认证是否登录与记录登录时间

​	Token是一种用于身份认证和授权的技术，可以通过生成一个加密的字符串来表示用户的身份和权限。在我们的后端应用中，我们采用了Token技术来实现认证是否登录和记录登录时间的功能，通过在用户登录时生成一个加密的Token字符串，并将其返回给前端，来表示用户已经登录成功。同时，我们还可以将Token中包含的信息进行解密和验证，来判断用户的身份和权限，并记录用户的登录时间和状态。这样可以提高系统的安全性和稳定性，同时也可以提高用户的体验和满意度。

###### 6\. 密码采用MD5存储增加安全性

​	MD5是一种常用的密码加密算法，可以将用户的密码进行加密和存储，从而提高用户的安全性和隐私保护。在我们的后端应用中，我们采用了MD5算法来对用户的密码进行加密和存储，从而保证用户的密码不会被泄露或者破解。同时，我们还可以对用户的密码进行加盐和多次哈希等操作，来进一步提高密码的安全性和防护能力。这样可以保证用户的密码安全，提高系统的安全性和稳定性。

## **软件实现思路**

###### （1）开发流程：

​	需求分析和规划：明确系统功能和需求、界面设计和用户体验、数据结构和数据库设计等方面。

​	模块设计和实现：根据需求，设计系统的各个模块和功能，包括用户管理、资源管理、论坛管理、积分系统等。

​	测试和调试：确保系统的稳定性和性能，同时修复代码中的bug。

​	部署和上线：将系统部署在服务器上，并向用户公开发布。

###### （2）模块划分：

​	访客端模块：包括教育资源的展示和注册模块。

​	用户端模块：包括个人信息管理，资源区，讨论区和积分系统。

​	管理员端模块：包括用户管理，教育资源管理，论坛管理和数据分析等。

###### （3）关键算法和数据结构：

​	用户管理：用户数据使用了关系型数据库来进行存储和管理，根据不同的需求，使用相应的SQL命令进行查询和修改。

​	学习资源管理：资源内容可以使用文本或者多媒体格式来存储，并使用索引算法和搜索算法来实现快速查找和展示。

​	论坛管理：使用了简单的数据结构来进行帖子和评论的存储和管理，同时使用相关的遍历算法来实现与帖子和评论相关的各种操作。

​	积分系统：在用户登录、发帖、评论等操作时，可以使用计数算法和排序算法来操作相关的积分数据，从而为用户提供一种积极的反馈和奖励计划。

​	针对以上的设计和实现，我们的系统可以满足用户的需求和业务需求，让访客、用户和管理员都能够顺利地使用平台中提供的各种功能，从中获取对应需求的帮助和服务。同时，我们也对系统进行了维护和优化，以保持系统的高效性和稳定性。

## **设计模型到前后端代码映射方法**

​	我们采用MVVM模式的前后端代码映射方法，以下是详细介绍。

​	在前端，我们使用Vue.js框架来搭建应用程序，依据MVVM设计模式，我们将应用程序分为视图层和模型层两个部分，同时添加了ViewModel层以协助前后端之间的数据交互和处理。

​	视图层：视图层由html和Vue.js组件构成，在html中，我们使用Vue.js提供的数据绑定和指令等方式将视图与ViewModel进行关联，从而实现数据的双向绑定。同时，通过Vue.js提供的命令绑定方式，我们可以将用户的操作事件映射到ViewModel中对应的函数上，从而实现用户操作与后端数据交互的过程。

​	模型层：在模型层，我们使用Axios库实现与后端进行数据交互，通过向后端发送请求获取数据，并将获取的数据交由ViewModel进行处理，最后通过数据绑定将处理后的数据渲染后呈现到视图上。

​	ViewModel层：在ViewModel层，我们将前后端之间的数据交互和处理都放置在这一层中，通过Vue.js提供的指令、计算属性等方式实现对前端视图和后端数据的双向绑定。当用户在视图中进行操作时，ViewModel中对应的函数将被触发，通过调用axios库向后端发送请求并获取数据，然后将获取到的数据或者操作结果通过双向绑定的方式渲染到视图中。

​	另外，在后端开发中，我们采用MVC模式，将应用程序分为模型层、视图层和控制层三个部分。模型层：模型层负责处理将前端传入的参数进行处理，并根据不同的业务场景进行逻辑处理，并将处理后的数据返回给控制层，采用ORM技术来进行数据库访问。控制层：控制层负责接收前端传入的参数，并结合模型层对数据进行处理和组装，最终将结果返回给视图层，通常采用Router和Controller两个组件来进行管理。视图层：视图层负责渲染和显示前端传入的数据，通常采用Web模板技术来进行开发。

# **系统错误处理**

## **出错信息管理**

1.  对前端可能输入或导入的内容或文件进行有效性和安全性检查，减少错误发生的几率，防止注入攻击。
2.  对程序运行中可能产生的异常进行捕获，同时收集错误信息，将错误生成日志，储存在专门的数据库中，便于后期根据日志进行调试维护升级。
3.  当用户试图访问自身权限以外的信息或不存在的页面时，将其导航到统一的出错提示页面，之后自动返回之前页面。

## **故障预防与补救**

​	以统一的机制进行网站权限的控制，对程序中用到的数据进行加密，以减少黑客攻击的危害。定期对数据库中的数据进行备份。

## **系统维护设计**

### **编码规范化**

​	编码实现时应采用模块化和分层的思想，提高模块内部的内聚，减少模块间的耦合。使系统逻辑结构清晰，从而增强可拓展性和可维护性。

同时在编码过程中注意标识符命名的意义，按照规格约定撰写注释和开发文档。

### **编码模块化**

​	对于页面的可重复部分均抽象为可复用模块，减少冗余代码，同时在新增模块时使用div组件，灵活使用框架特性，提高页面的灵活性。

将面向过程与面向对象思想相结合进行开发，模块划分符合面向对象思想。

### **始终收集反馈**

​	为了保持本系统的优秀以及更好的发展，我们会设立反馈收集邮箱，为用户的体验反馈提供一个窗口。通过收集这一反馈信息，对用户提出的问题改进并回应实，不断更新系统，保持系统的活力。

# **项目测试计划**

​	测试计划作为本项目的测试指导，将由项目成员按计划和规定进行测试。本系统的测试将从单元测试、集成测试、系统测试 3个方面来设计。

​	测试计划如表所示。

<center>测试计划设计表

| 测试计划序号 | 测试计划类型 | 对应部分               | 测试计划内容                 | 测试时间  |
|--------------|--------------|------------------------|------------------------------|-----------|
| 1            | 单元测试     | 注册登录模块           | 测试注册登录功能             | 2023.5.10 |
| 2            | 单元测试     | 帖子评论模块           | 测试能否正常增删帖子信息     | 2023.5.11 |
| 3            | 单元测试     | 资源管理模块           | 测试资源管理能否正常运作     | 2023.5.12 |
| 4            | 单元测试     | 管理员管理帖子模块     | 测试能否正确管理帖子         | 2023.5.13 |
| 5            | 单元测试     | 管理员管理资源模块     | 测试能否正确管理资源         | 2023.5.14 |
| 6            | 单元测试     | 管理员管理user模块     | 测试能否正确改变个人信息     | 2023.5.15 |
| 7            | 集成测试     | 个人信息管理系统       | 测试个人信息能否正确管理     | 2023.5.17 |
| 8            | 集成测试     | 访客、用户与管理员系统 | 测试一个完整流程能否正确实现 | 2023.5.18 |
| 9            | 系统测试     | 整个学习生活平台       | 测试整个平台的运行是否正常   | 2023.5.19 |
